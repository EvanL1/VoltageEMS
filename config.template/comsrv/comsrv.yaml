name: "comsrv"
version: "1.0.0"
description: "工业协议通信服务"

api:
  host: "0.0.0.0"
  port: 6001

redis:
  url: "redis://localhost:6379"
  enabled: true

logging:
  level: "info"
  dir: "logs"

lua_sync:
  enabled: false

command_trigger:
  enabled: false

channels:
  - id: 1
    name: "PCS#1"
    description: "变流器 #1"
    protocol: "modbus_tcp"
    enabled: true
    parameters:
      host: "192.168.1.10"
      port: 502
      connect_timeout_ms: 3000
      read_timeout_ms: 3000
    logging:
      enabled: true
      level: "info"

  - id: 2
    name: "BAMS#1"
    description: "电池管理系统 #1 (Ampace)"
    protocol: "modbus_tcp"
    enabled: true
    parameters:
      host: "192.168.1.100"
      port: 502
      connect_timeout_ms: 3000
      read_timeout_ms: 3000
    logging:
      enabled: true
      level: "info"

  - id: 3
    name: "GENSET#1"
    description: "柴油发电机组 #1"
    protocol: "modbus_rtu"
    enabled: true
    parameters:
      port: "/dev/ttyS4"
      baud_rate: 9600
      data_bits: 8
      stop_bits: 1
      parity: "N"
      slave_id: 1
      connect_timeout_ms: 3000
      read_timeout_ms: 3000
      retry_interval_ms: 2000
    logging:
      enabled: true
      level: "info"
