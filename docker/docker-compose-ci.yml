# Docker Compose for CI/CD Integration Tests
# Simplified configuration for GitHub Actions environment
#
# Key differences from main docker-compose.yml:
# - Uses bridge network instead of host mode (required for GitHub Actions)
# - Only includes voltage-redis (minimal dependencies for integration tests)
# - Exposes port 6379 for test access
# - No volume mounts or persistence (ephemeral test environment)

version: '3.9'

services:
  # VoltageRedis - Redis 8 with voltage-rtdb Module
  voltage-redis:
    image: redis:8-alpine
    container_name: voltage-redis-ci
    ports:
      - "6379:6379"
    environment:
      - REDIS_PORT=6379
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 5s
      timeout: 3s
      retries: 5
      start_period: 10s
