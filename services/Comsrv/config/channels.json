{
    "version": "2.0",
    "description": "Channel Configuration for Energy Management System",
    "global": {
        "logging": {
            "level": "info",
            "file": "/var/log/ems/channels.log",
            "maxSize": 10485760,
            "maxFiles": 5,
            "console": true,
            "redis": {
                "enabled": true,
                "prefix": "ems:log:"
            }
        },
        "redis": {
            "host": "localhost",
            "port": 6379,
            "db": 0,
            "prefix": "ems:"
        },
        "configMonitoring": {
            "enabled": true,
            "intervalSec": 10,
            "autoReload": true
        }
    },
    "channels": [
        {
            "index": 1,
            "name": "PCS",
            "description": "Power Conversion System Communication Channel",
            "enabled": true,
            "protocolType": "MODBUS",
            "physicalInterfaceType": "NETWORK",
            "deviceRole": "MASTER",
            "protocol": {
                "type": "ModbusTCP",
                "config": {
                    "host": "192.169.1.10",
                    "port": 502,
                    "timeout": 1000,
                    "maxRead": 120
                }
            },
            "pointTables": {
                "di": "points/pcs_di.csv",
                "ai": "points/pcs_ai.csv",
                "do": "points/pcs_do.csv",
                "ao": "points/pcs_ao.csv"
            },
            "pollRate": 1000
        },
        {
            "index": 2,
            "name": "Diesel_Meter",
            "description": "Diesel Generator and Meter Communication Channel",
            "enabled": true,
            "protocolType": "MODBUS",
            "physicalInterfaceType": "NETWORK",
            "deviceRole": "MASTER",
            "protocol": {
                "type": "ModbusTCP",
                "config": {
                    "host": "192.168.1.200",
                    "port": 502,
                    "timeout": 1000,
                    "maxRead": 120
                }
            },
            "pointTables": {
                "di": "points/diesel_meter_di.csv",
                "ai": "points/diesel_meter_ai.csv",
                "do": "points/diesel_meter_do.csv",
                "ao": "points/diesel_meter_ao.csv"
            },
            "pollRate": 1000
        },
        {
            "index": 3,
            "name": "BAMS",
            "description": "Battery Management System Channel",
            "enabled": true,
            "protocolType": "MODBUS",
            "physicalInterfaceType": "NETWORK",
            "deviceRole": "MASTER",
            "protocol": {
                "type": "ModbusTCP",
                "config": {
                    "host": "192.168.1.100",
                    "port": 2502,
                    "timeout": 1000,
                    "maxRead": 120
                }
            },
            "pointTables": {
                "di": "points/bams_di.csv",
                "ai": "points/bams_ai.csv",
                "do": "points/bams_do.csv",
                "ao": "points/bams_ao.csv"
            },
            "pollRate": 1000
        },
        {
            "index": 4,
            "name": "Diesel_Serial",
            "description": "Diesel Generator Serial Communication Channel",
            "enabled": true,
            "protocolType": "MODBUS",
            "physicalInterfaceType": "SERIAL",
            "deviceRole": "MASTER",
            "protocol": {
                "type": "ModbusRTU",
                "config": {
                    "serialPort": "/dev/ttys0",
                    "baudRate": 9600,
                    "dataBits": 8,
                    "stopBits": 1,
                    "parity": "N",
                    "timeout": 1000,
                    "maxRead": 120
                }
            },
            "pointTables": {
                "di": "points/diesel_serial_di.csv",
                "ai": "points/diesel_serial_ai.csv",
                "do": "points/diesel_serial_do.csv",
                "ao": "points/diesel_serial_ao.csv"
            },
            "pollRate": 1000
        }
    ]
} 