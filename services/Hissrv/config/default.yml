# Historical Data Service Configuration

service:
  name: hissrv
  version: 0.2.0
  port: 8080
  host: 0.0.0.0

redis:
  connection:
    host: 127.0.0.1
    port: 6379
    password: ""
    socket: ""
    database: 0
    pool_size: 10
    timeout: 5
  subscription:
    channels:
      - "data:*"
      - "events:*"
    key_patterns:
      - "*"
    channel_ids: []

storage:
  default: influxdb
  backends:
    influxdb:
      enabled: true
      url: http://localhost:8086
      database: hissrv_data
      username: ""
      password: ""
      retention_days: 365
      batch_size: 5000
      flush_interval: 10
    postgresql:
      enabled: false
      host: localhost
      port: 5432
      database: hissrv
      username: postgres
      password: ""
      pool_size: 10
    mongodb:
      enabled: false
      uri: mongodb://localhost:27017
      database: hissrv
      collection: data

data:
  filters:
    default_policy: store
    rules: []
  transformations: []

# Common API prefix configuration
api:
  prefix: ""  # Default is empty, can be set to "/api/v1" if needed
  enable_versioning: false
  version: v1

# Service-specific API configuration
service_api:
  enabled: true
  swagger_ui: true
  cors:
    enabled: true
    origins:
      - "*"
    methods:
      - GET
      - POST
      - PUT
      - DELETE

monitoring:
  enabled: true
  metrics_port: 9090
  health_check: true

logging:
  level: info
  format: json
  file: logs/hissrv.log
  max_size: 100MB
  max_files: 10

performance:
  worker_threads: 4
  max_concurrent_requests: 1000
  queue_size: 10000
  batch_processing: true