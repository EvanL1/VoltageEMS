{
  "id": "stepper_motor_model",
  "name": "步进电机模型",
  "description": "步进电机实时状态监控和控制模型",
  "file_path": "templates/stepper_motor_model.json",
  "input_mappings": [
    {
      "source_key": "ems:data:stepper",
      "source_field": "status",
      "target_field": "status",
      "transform": null
    },
    {
      "source_key": "ems:data:stepper",
      "source_field": "position",
      "target_field": "position",
      "transform": null
    },
    {
      "source_key": "ems:data:stepper",
      "source_field": "target_position",
      "target_field": "target_position",
      "transform": null
    },
    {
      "source_key": "ems:data:stepper",
      "source_field": "speed",
      "target_field": "speed",
      "transform": null
    },
    {
      "source_key": "ems:data:stepper",
      "source_field": "acceleration",
      "target_field": "acceleration",
      "transform": null
    },
    {
      "source_key": "ems:data:stepper",
      "source_field": "current",
      "target_field": "current",
      "transform": null
    },
    {
      "source_key": "ems:data:stepper",
      "source_field": "temperature",
      "target_field": "temperature",
      "transform": null
    },
    {
      "source_key": "ems:data:stepper",
      "source_field": "error_code",
      "target_field": "error_code",
      "transform": null
    },
    {
      "source_key": "ems:data:stepper",
      "source_field": "mode",
      "target_field": "mode",
      "transform": null
    }
  ],
  "output_key": "ems:model:output:stepper",
  "enabled": true,
  "actions": [
    {
      "id": "stepper_move_to_position",
      "name": "移动到指定位置",
      "action_type": "RemoteAdjust",
      "channel": "Stepper_Control",
      "point": "target_position",
      "value": "calculated_position",
      "conditions": [
        {
          "field": "status",
          "operator": "==",
          "value": "ready"
        }
      ],
      "enabled": true
    },
    {
      "id": "stepper_stop",
      "name": "停止电机",
      "action_type": "RemoteControl",
      "channel": "Stepper_Control",
      "point": "stop_command",
      "value": "1",
      "conditions": [
        {
          "field": "error_code",
          "operator": "!=",
          "value": "0"
        }
      ],
      "enabled": true
    },
    {
      "id": "stepper_set_speed",
      "name": "设置速度",
      "action_type": "RemoteAdjust",
      "channel": "Stepper_Control",
      "point": "speed",
      "value": "calculated_speed",
      "conditions": [
        {
          "field": "status",
          "operator": "==",
          "value": "ready"
        }
      ],
      "enabled": true
    },
    {
      "id": "stepper_home",
      "name": "回零位",
      "action_type": "RemoteControl",
      "channel": "Stepper_Control",
      "point": "home_command",
      "value": "1",
      "conditions": [
        {
          "field": "status",
          "operator": "==",
          "value": "ready"
        }
      ],
      "enabled": true
    },
    {
      "id": "stepper_error_alert",
      "name": "电机错误告警",
      "action_type": "RemoteControl",
      "channel": "Alarm_System",
      "point": "stepper_error_alarm",
      "value": "1",
      "conditions": [
        {
          "field": "error_code",
          "operator": "!=",
          "value": "0"
        }
      ],
      "enabled": true
    },
    {
      "id": "stepper_high_temperature_alert",
      "name": "电机温度过高告警",
      "action_type": "RemoteControl",
      "channel": "Alarm_System",
      "point": "stepper_temp_alarm",
      "value": "1",
      "conditions": [
        {
          "field": "temperature",
          "operator": ">",
          "value": "70"
        }
      ],
      "enabled": true
    }
  ]
} 