{
  "redis": {
    "host": "localhost",
    "port": 6379,
    "db": 0,
    "password": null,
    "connection_timeout_ms": 5000,
    "pool_size": 10
  },
  "logging": {
    "level": "info",
    "file": "/var/log/ems/netsrv.log",
    "console": true
  },
  "networks": [
    {
      "name": "Legacy MQTT Broker",
      "enabled": false,
      "network_type": "mqtt",
      "format_type": "json",
      "mqtt_config": {
        "broker_url": "localhost",
        "port": 1883,
        "client_id": "netsrv-legacy",
        "username": null,
        "password": null,
        "topic": "ems/data",
        "qos": 0,
        "use_ssl": false,
        "ca_cert_path": null,
        "client_cert_path": null,
        "client_key_path": null
      }
    }
  ],
  "cloud_networks": [
    {
      "name": "AWS IoT Core Production",
      "enabled": false,
      "cloud_provider": "aws",
      "endpoint": "your-endpoint.iot.us-east-1.amazonaws.com",
      "port": 8883,
      "client_id": "ems-device-001",
      "auth_config": {
        "type": "certificate",
        "cert_path": "/etc/ems/certs/aws-device-cert.pem",
        "key_path": "/etc/ems/certs/aws-device-key.pem",
        "ca_path": "/etc/ems/certs/aws-root-ca.pem"
      },
      "topic_config": {
        "publish_topic": "ems/{device_id}/telemetry",
        "topic_variables": {
          "device_id": "sensor-001",
          "location": "factory-a"
        },
        "subscribe_topics": [
          "ems/{device_id}/commands",
          "$aws/things/{device_id}/shadow/update/delta"
        ],
        "qos": 1,
        "retain": false
      },
      "tls_config": {
        "enabled": true,
        "verify_cert": true,
        "verify_hostname": true,
        "ca_path": null,
        "alpn_protocols": ["mqtt"]
      },
      "keep_alive_secs": 30,
      "connection_timeout_ms": 10000,
      "reconnect_delay_ms": 5000,
      "max_reconnect_attempts": 5,
      "custom_properties": null
    },
    {
      "name": "Aliyun IoT Platform",
      "enabled": false,
      "cloud_provider": "aliyun",
      "endpoint": "your-product.iot-as-mqtt.cn-shanghai.aliyuncs.com",
      "port": 443,
      "client_id": "your-device-client-id",
      "auth_config": {
        "type": "device_secret",
        "product_key": "your-product-key",
        "device_name": "your-device-name",
        "device_secret": "your-device-secret"
      },
      "topic_config": {
        "publish_topic": "/sys/{product_key}/{device_name}/thing/event/property/post",
        "topic_variables": {
          "product_key": "your-product-key",
          "device_name": "your-device-name"
        },
        "subscribe_topics": [
          "/sys/{product_key}/{device_name}/thing/service/property/set",
          "/sys/{product_key}/{device_name}/thing/service/{service_id}/invoke"
        ],
        "qos": 1,
        "retain": false
      },
      "tls_config": {
        "enabled": true,
        "verify_cert": true,
        "verify_hostname": true,
        "ca_path": null,
        "alpn_protocols": ["mqtt"]
      },
      "keep_alive_secs": 60,
      "connection_timeout_ms": 10000,
      "reconnect_delay_ms": 5000,
      "max_reconnect_attempts": 5,
      "custom_properties": {
        "region": "cn-shanghai"
      }
    },
    {
      "name": "Azure IoT Hub",
      "enabled": false,
      "cloud_provider": "azure",
      "endpoint": "your-hub.azure-devices.net",
      "port": 8883,
      "client_id": "your-device-id",
      "auth_config": {
        "type": "sas_token",
        "token": "SharedAccessSignature sr=your-hub.azure-devices.net%2Fdevices%2Fyour-device&sig=...",
        "expiry": null
      },
      "topic_config": {
        "publish_topic": "devices/{device_id}/messages/events/",
        "topic_variables": {
          "device_id": "your-device-id"
        },
        "subscribe_topics": [
          "devices/{device_id}/messages/devicebound/#"
        ],
        "qos": 1,
        "retain": false
      },
      "tls_config": {
        "enabled": true,
        "verify_cert": true,
        "verify_hostname": true,
        "ca_path": null,
        "alpn_protocols": ["mqtt"]
      },
      "keep_alive_secs": 30,
      "connection_timeout_ms": 10000,
      "reconnect_delay_ms": 5000,
      "max_reconnect_attempts": 5,
      "custom_properties": null
    },
    {
      "name": "Tencent IoT Hub",
      "enabled": false,
      "cloud_provider": "tencent",
      "endpoint": "your-product.iotcloud.tencentdevices.com",
      "port": 8883,
      "client_id": "your-product-id-your-device-name",
      "auth_config": {
        "type": "certificate",
        "cert_path": "/etc/ems/certs/tencent-device-cert.crt",
        "key_path": "/etc/ems/certs/tencent-device-key.key",
        "ca_path": "/etc/ems/certs/tencent-root-ca.crt"
      },
      "topic_config": {
        "publish_topic": "your-product-id/{device_name}/data",
        "topic_variables": {
          "device_name": "your-device-name"
        },
        "subscribe_topics": [
          "your-product-id/{device_name}/control"
        ],
        "qos": 1,
        "retain": false
      },
      "tls_config": {
        "enabled": true,
        "verify_cert": true,
        "verify_hostname": true,
        "ca_path": null,
        "alpn_protocols": ["mqtt"]
      },
      "keep_alive_secs": 240,
      "connection_timeout_ms": 10000,
      "reconnect_delay_ms": 5000,
      "max_reconnect_attempts": 5,
      "custom_properties": null
    },
    {
      "name": "Custom MQTT Broker",
      "enabled": true,
      "cloud_provider": "custom",
      "endpoint": "mqtt.example.com",
      "port": 8883,
      "client_id": "ems-client-custom",
      "auth_config": {
        "type": "username_password",
        "username": "ems-user",
        "password": "ems-password"
      },
      "topic_config": {
        "publish_topic": "ems/data/{timestamp}",
        "topic_variables": {
          "site_id": "factory-001"
        },
        "subscribe_topics": [
          "ems/commands/#"
        ],
        "qos": 1,
        "retain": false
      },
      "tls_config": {
        "enabled": true,
        "verify_cert": true,
        "verify_hostname": true,
        "ca_path": "/etc/ssl/certs/ca-certificates.crt",
        "alpn_protocols": ["mqtt"]
      },
      "keep_alive_secs": 30,
      "connection_timeout_ms": 10000,
      "reconnect_delay_ms": 5000,
      "max_reconnect_attempts": 5,
      "custom_properties": {
        "environment": "production",
        "version": "1.0"
      }
    }
  ]
} 