[build]
# 提高编译速度
jobs = 8

[target.'cfg(all())']
rustflags = [
    # 只对真正的错误报错
    "-D", "rust_2018_idioms",
    "-D", "missing_debug_implementations",
    
    # 这些作为警告，不阻塞编译
    "-W", "clippy::all",
    "-W", "clippy::pedantic",
    
    # 允许一些在系统开发中常见的模式
    "-A", "clippy::module_name_repetitions",
    "-A", "clippy::must_use_candidate", 
    "-A", "clippy::missing_errors_doc",
    "-A", "clippy::missing_panics_doc",
    "-A", "clippy::too_many_arguments",
    "-A", "clippy::type_complexity",
    "-A", "clippy::module_inception",
    "-A", "clippy::large_enum_variant",
]

[profile.dev]
opt-level = 0
debug = true

[profile.release]
opt-level = 3
lto = true
codegen-units = 1