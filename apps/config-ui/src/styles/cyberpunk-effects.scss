// 赛博朋克风格特效
// 基于深色主题的高级视觉效果

// 1. 数据流动效果
@keyframes dataFlow {
  0% { 
    transform: translateY(0) scale(1);
    opacity: 0;
  }
  20% {
    opacity: 0.8;
  }
  80% {
    opacity: 0.8;
  }
  100% { 
    transform: translateY(-20px) scale(0.8);
    opacity: 0;
  }
}

.data-flow {
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    width: 2px;
    height: 100%;
    background: linear-gradient(180deg, 
      transparent 0%, 
      var(--accent-cyan) 50%, 
      transparent 100%);
    transform: translateX(-50%);
    opacity: 0.3;
  }
  
  &::after {
    content: '•';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    color: var(--accent-cyan);
    font-size: 12px;
    animation: dataFlow 2s ease-in-out infinite;
  }
}

// 2. 电路板效果
.circuit-board {
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      linear-gradient(90deg, transparent 98%, rgba(98, 106, 239, 0.1) 98%),
      linear-gradient(0deg, transparent 98%, rgba(98, 106, 239, 0.1) 98%);
    background-size: 20px 20px;
    pointer-events: none;
    opacity: 0.5;
  }
  
  &::after {
    content: '';
    position: absolute;
    top: 10%;
    left: 10%;
    width: 80%;
    height: 80%;
    background: 
      radial-gradient(circle at 20% 20%, rgba(0, 212, 255, 0.2) 0%, transparent 20%),
      radial-gradient(circle at 80% 80%, rgba(255, 0, 110, 0.2) 0%, transparent 20%),
      radial-gradient(circle at 80% 20%, rgba(98, 106, 239, 0.2) 0%, transparent 20%),
      radial-gradient(circle at 20% 80%, rgba(168, 85, 247, 0.2) 0%, transparent 20%);
    pointer-events: none;
    filter: blur(20px);
  }
}

// 3. 故障效果（低调版本）
@keyframes glitchSubtle {
  0%, 100% { 
    transform: translate(0);
    filter: hue-rotate(0deg);
  }
  20% { 
    transform: translate(1px, 0);
    filter: hue-rotate(5deg);
  }
  40% { 
    transform: translate(-1px, 0);
    filter: hue-rotate(-5deg);
  }
}

.glitch-subtle {
  position: relative;
  
  &:hover {
    animation: glitchSubtle 0.3s ease;
  }
}

// 4. 能量条效果
.energy-bar {
  position: relative;
  height: 4px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
  overflow: hidden;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    background: linear-gradient(90deg, 
      transparent 0%, 
      var(--accent-cyan) 20%, 
      var(--primary-color) 50%, 
      var(--accent-pink) 80%, 
      transparent 100%);
    width: 200%;
    animation: energyFlow 3s linear infinite;
  }
}

@keyframes energyFlow {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(0); }
}

// 5. 数字矩阵雨效果（Matrix）
.matrix-rain {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
  z-index: -1;
  opacity: 0.03;
  
  .matrix-column {
    position: absolute;
    top: -100%;
    font-family: monospace;
    font-size: 14px;
    color: var(--success-color);
    writing-mode: vertical-rl;
    text-orientation: upright;
    animation: matrixFall linear infinite;
    
    @for $i from 1 through 20 {
      &:nth-child(#{$i}) {
        left: #{$i * 5}%;
        animation-duration: #{10 + random(10)}s;
        animation-delay: #{random(10)}s;
      }
    }
  }
}

@keyframes matrixFall {
  to { transform: translateY(200vh); }
}

// 6. 智能边框效果
.smart-border {
  position: relative;
  border: 1px solid transparent;
  background: linear-gradient(var(--bg-secondary), var(--bg-secondary)) padding-box,
              linear-gradient(45deg, var(--primary-color), var(--accent-cyan), var(--accent-pink), var(--primary-color)) border-box;
  background-size: 100% 100%, 300% 300%;
  animation: smartBorderRotate 10s linear infinite;
}

@keyframes smartBorderRotate {
  0% { background-position: 0% 0%, 0% 0%; }
  100% { background-position: 0% 0%, 100% 100%; }
}

// 7. 悬浮指示器
.hover-indicator {
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--primary-gradient);
    transition: width 0.3s ease;
    box-shadow: 0 0 10px var(--primary-color);
  }
  
  &:hover::before {
    width: 100%;
  }
}

// 8. 脉冲波纹（低调版本）
@keyframes pulseWave {
  0% {
    transform: scale(1);
    opacity: 0.5;
  }
  100% {
    transform: scale(1.5);
    opacity: 0;
  }
}

.pulse-wave {
  position: relative;
  
  &::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    border: 1px solid var(--primary-color);
    border-radius: inherit;
    transform: translate(-50%, -50%);
    opacity: 0;
    pointer-events: none;
  }
  
  &:active::after {
    animation: pulseWave 0.6s ease-out;
  }
}

// 9. 3D 立体按钮效果
.button-3d {
  position: relative;
  transform-style: preserve-3d;
  transition: all 0.3s ease;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: inherit;
    border-radius: inherit;
    transform: translateZ(-5px);
    filter: brightness(0.7);
    transition: transform 0.3s ease;
  }
  
  &:hover {
    transform: translateY(-2px);
    
    &::before {
      transform: translateZ(-10px);
    }
  }
  
  &:active {
    transform: translateY(0);
    
    &::before {
      transform: translateZ(-2px);
    }
  }
}

// 10. 状态指示灯
.status-indicator {
  position: relative;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  
  &.online {
    background: var(--success-color);
    box-shadow: 0 0 10px var(--success-color);
    
    &::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: inherit;
      transform: translate(-50%, -50%);
      animation: statusPulse 2s ease-in-out infinite;
    }
  }
  
  &.offline {
    background: var(--danger-color);
    box-shadow: 0 0 10px var(--danger-color);
  }
  
  &.pending {
    background: var(--warning-color);
    box-shadow: 0 0 10px var(--warning-color);
    animation: statusBlink 1s ease-in-out infinite;
  }
}

@keyframes statusPulse {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  50% {
    transform: translate(-50%, -50%) scale(2);
    opacity: 0;
  }
}

@keyframes statusBlink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

// 11. 高级卡片效果
.advanced-card {
  position: relative;
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
  overflow: hidden;
  
  // 顶部光条
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, 
      transparent 0%, 
      var(--primary-color) 25%, 
      var(--accent-cyan) 50%, 
      var(--primary-color) 75%, 
      transparent 100%);
    animation: topBarScan 4s linear infinite;
  }
  
  // 角落装饰
  &::after {
    content: '';
    position: absolute;
    top: 10px;
    right: 10px;
    width: 6px;
    height: 6px;
    background: var(--accent-cyan);
    border-radius: 50%;
    box-shadow: 0 0 10px var(--accent-cyan);
    animation: cornerBlink 3s ease-in-out infinite;
  }
}

@keyframes topBarScan {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

@keyframes cornerBlink {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 1; }
}

// 12. 数据网格背景
.data-grid-bg {
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      repeating-linear-gradient(0deg, 
        transparent, 
        transparent 2px, 
        rgba(98, 106, 239, 0.03) 2px, 
        rgba(98, 106, 239, 0.03) 4px),
      repeating-linear-gradient(90deg, 
        transparent, 
        transparent 2px, 
        rgba(0, 212, 255, 0.03) 2px, 
        rgba(0, 212, 255, 0.03) 4px);
    pointer-events: none;
    animation: gridShift 60s linear infinite;
  }
}

@keyframes gridShift {
  0% { transform: translate(0, 0); }
  100% { transform: translate(4px, 4px); }
}