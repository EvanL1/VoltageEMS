{
  "id": "battery_model",
  "name": "储能电池模型",
  "description": "储能电池实时状态监控和控制模型",
  "input_mappings": [
    {
      "source_key": "ems:data:battery",
      "source_field": "voltage",
      "target_field": "voltage",
      "transform": null
    },
    {
      "source_key": "ems:data:battery",
      "source_field": "current",
      "target_field": "current",
      "transform": null
    },
    {
      "source_key": "ems:data:battery",
      "source_field": "soc",
      "target_field": "soc",
      "transform": null
    },
    {
      "source_key": "ems:data:battery",
      "source_field": "temperature",
      "target_field": "temperature",
      "transform": null
    },
    {
      "source_key": "ems:data:battery",
      "source_field": "power",
      "target_field": "power",
      "transform": null
    },
    {
      "source_key": "ems:data:battery",
      "source_field": "capacity",
      "target_field": "capacity",
      "transform": null
    },
    {
      "source_key": "ems:data:battery",
      "source_field": "status",
      "target_field": "status",
      "transform": null
    },
    {
      "source_key": "ems:data:battery",
      "source_field": "health",
      "target_field": "health",
      "transform": null
    },
    {
      "source_key": "ems:data:battery",
      "source_field": "charge_cycles",
      "target_field": "charge_cycles",
      "transform": null
    }
  ],
  "output_key": "ems:model:output:battery",
  "enabled": true,
  "actions": [
    {
      "id": "battery_low_soc_alert",
      "name": "电池SOC低告警",
      "action_type": "RemoteControl",
      "channel": "Alarm_System",
      "point": "low_soc_alarm",
      "value": "1",
      "conditions": [
        {
          "field": "soc",
          "operator": "<",
          "value": "20"
        }
      ],
      "enabled": true
    },
    {
      "id": "battery_high_temperature_alert",
      "name": "电池温度高告警",
      "action_type": "RemoteControl",
      "channel": "Alarm_System",
      "point": "high_temp_alarm",
      "value": "1",
      "conditions": [
        {
          "field": "temperature",
          "operator": ">",
          "value": "45"
        }
      ],
      "enabled": true
    },
    {
      "id": "battery_stop_charging",
      "name": "停止充电",
      "action_type": "RemoteControl",
      "channel": "Battery_Control",
      "point": "charge_enable",
      "value": "0",
      "conditions": [
        {
          "field": "soc",
          "operator": ">=",
          "value": "95"
        }
      ],
      "enabled": true
    },
    {
      "id": "battery_start_charging",
      "name": "开始充电",
      "action_type": "RemoteControl",
      "channel": "Battery_Control",
      "point": "charge_enable",
      "value": "1",
      "conditions": [
        {
          "field": "soc",
          "operator": "<",
          "value": "30"
        },
        {
          "field": "status",
          "operator": "!=",
          "value": "charging"
        }
      ],
      "enabled": true
    }
  ]
} 